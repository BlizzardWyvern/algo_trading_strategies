const path = require('path')
require('dotenv').config({ path: path.resolve(__dirname, './../.env') })
import { mocked } from 'ts-jest/utils';


import { DydxClient } from '@dydxprotocol/v3-client'

console.log(process.env.STARK_PRIVATE_KEY)


describe('Block 1', () => {
    it('should work', () => {
        expect(true).toBeTruthy()
    })

    var home: Home

    it('should run', () => {
        //var client = new DYDXClient("PRIVATE", "PUBLIC");
        //console.log(client.getStarkKeyPair())
        //home = new Home(process.env.PRIVATE_STARK_KEY,process.env.PUBLIC_STARK_KEY)
        home = new Home(process.env.STARK_PRIVATE_KEY, process.env.STARK_PUBLIC_KEY)
        //expect(home.getClient()).toBeInstanceOf(DydxClient)
        console.log("Client: ",  home.getClient().onboarding)
    })
})


describe('DydxClient', () => {

    it('has separate modules', () => {
        const client = new DydxClient('https://example.com');
        expect(client.ethPrivate).toBeTruthy();
        expect(client.eth).toBeTruthy();
        expect(client.onboarding).toBeTruthy();
        expect(client.private).toBeTruthy();
        expect(client.public).toBeTruthy();
    });
});